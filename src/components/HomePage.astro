---
import Layout from '../layouts/Layout.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import '../styles/home_page.css';
---

<Layout title={SITE_TITLE} description={SITE_DESCRIPTION}>
	<!-- NAV -->
	<nav class="nav">
		<div class="container nav-container">
		<h1 class="logo">Ewwii</h1>

		<ul class="nav-links" role="navigation" aria-label="Primary">
			<li><a href="#features">Features</a></li>
			<li><a href="#getting-started">Getting Started</a></li>
			<li><a href="#resources">Resources</a></li>
		</ul>

		<div class="nav-icons">
			<a href="https://github.com/Ewwii-sh/ewwii" target="_blank" rel="noopener" title="GitHub">
			<svg class="icon" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.385.6.11.82-.26.82-.577 0-.285-.01-1.04-.015-2.04-3.338.726-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.756-1.333-1.756-1.09-.746.083-.73.083-.73 1.205.085 1.84 1.238 1.84 1.238 1.07 1.834 2.807 1.304 3.492.997.108-.775.42-1.304.762-1.604-2.665-.303-5.466-1.332-5.466-5.932 0-1.31.468-2.382 1.235-3.222-.123-.303-.535-1.523.117-3.176 0 0 1.008-.322 3.3 1.23a11.52 11.52 0 0 1 3-.404c1.02.005 2.045.138 3 .404 2.29-1.552 3.296-1.23 3.296-1.23.655 1.653.243 2.873.12 3.176.77.84 1.234 1.912 1.234 3.222 0 4.61-2.804 5.625-5.476 5.922.43.37.813 1.1.813 2.222 0 1.604-.015 2.896-.015 3.286 0 .32.216.694.825.576C20.565 21.796 24 17.296 24 12c0-6.63-5.37-12-12-12z"/>
			</svg>
			</a>

			<button id="theme-toggle" class="theme-toggle-btn" aria-label="Toggle theme">
			<svg id="theme-icon" class="icon" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
				<path d="M12 2a1 1 0 011 1v2a1 1 0 11-2 0V3a1 1 0 011-1zm6.364 3.636a1 1 0 010 1.414l-1.414 1.414a1 1 0 11-1.414-1.414l1.414-1.414a1 1 0 011.414 0zM21 11h-2a1 1 0 110-2h2a1 1 0 110 2zm-3.636 6.364a1 1 0 00-1.414 1.414l1.414 1.414a1 1 0 001.414-1.414l-1.414-1.414zM12 19a1 1 0 011 1v2a1 1 0 11-2 0v-2a1 1 0 011-1zm-6.364-1.636a1 1 0 011.414 1.414l-1.414 1.414a1 1 0 11-1.414-1.414l1.414-1.414zM3 13H1a1 1 0 110-2h2a1 1 0 110 2zm3.636-6.364a1 1 0 00-1.414-1.414L4.808 6.05a1 1 0 001.414 1.414L6.636 6.636z"/>
			</svg>
			</button>
		</div>
		</div>
	</nav>

	<!-- HERO -->
	<header class="hero">
		<div class="container hero-inner">
		<h1 class="hero-title">Ewwii</h1>
		<p class="hero-subtitle">Simplifying widgets, scripting, and configuration.</p>

		<a href="#getting-started" class="btn-primary">Get Started</a>

		<div class="install-box group" title="Install">
			<pre id="install-code" class="install-pre">cargo install https://github.com/Ewwii-sh/ewwii</pre>
			<button
			class="copy-btn"
			onclick="navigator.clipboard.writeText(document.getElementById('install-code').innerText).then(() => { copyFeedback(this) })"
			aria-label="Copy install command"
			>Copy</button>
		</div>
		</div>
	</header>

	<main class="main">
		<!-- Intro -->
		<section>
		<h2 class="section-title">What is Ewwii?</h2>
		<p class="lead">
			Ewwii is a fork of
			<a href="https://github.com/elkowar/eww" class="link-muted">Elkowar's Wacky Widgets</a>
			focused on simplifying configuration and scripting. We replace Yuck with Rhai and provide
			<strong>StaticTranspl</strong> for a Yuck-like syntax with robust error handling.
		</p>
		</section>

		<!-- Features -->
		<section id="features">
		<h2 class="section-title">Features</h2>

		<div class="features-grid">
			<div class="card">
			<h3 class="card-title">Better Scripting</h3>
			<p>Rhai provides improved if/else, for/while loops, and expressions for modern configuration scripting.</p>
			</div>

			<div class="card">
			<h3 class="card-title">Built in Libraries</h3>
			<p>Ewwii provides built-in libraries that focus on cross-platform compatibility and easy configuration.</p>
			</div>

			<div class="card">
			<h3 class="card-title">Package Management</h3>
			<p>Ewwii's PM <strong>eiipm</strong> makes managing binaries, libraries, and themes straightforward.</p>
			</div>

			<div class="card">
			<h3 class="card-title">Robust Error Handling</h3>
			<p>Clear and descriptive errors help you safely configure your widgets without frustration.</p>
			</div>
		</div>
		</section>

		<!-- Getting Started -->
		<section id="getting-started">
		<h2 class="section-title">Getting Started</h2>
		<!-- <p class="lead">Install Ewwii via your preferred method and start simplifying your widget configuration immediately:</p>
		<pre class="example-pre">
ewwii install my-widget</pre>
		<p class="lead">Write your configuration in Rhai, or use StaticTranspl for a Yuck-like syntax.</p> -->
		<p>Oh, hello there! This part is still under construction...</p>
		</section>

		<!-- Resources -->
		<section id="resources">
		<h2 class="section-title">Resources</h2>
		<ul>
			<li><a class="link-muted" href="/docs">Documentation</a></li>
			<li><a class="link-muted" href="/examples">Examples</a></li>
			<li><a class="link-muted" href="https://github.com/Ewwii-sh/ewwii">GitHub Repository</a></li>
		</ul>
		</section>
	</main>

	<footer class="site-footer">
		&copy; 2025 Ewwii: Made for simplicity and power.
	</footer>

	<script is:inline>
		// theme toggle + initialization
		const themeToggle = document.getElementById('theme-toggle');
		if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
		document.documentElement.classList.add('dark');
		}
		themeToggle?.addEventListener('click', () => {
		document.documentElement.classList.toggle('dark');
		localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
		});

		// copy feedback
		function copyFeedback(btn){
		if(!btn) return;
		const prev = btn.innerText;
		btn.innerText = 'Copied!';
		btn.disabled = true;
		setTimeout(() => {
			btn.innerText = prev;
			btn.disabled = false;
		}, 1300);
		}
	</script>
</Layout>
